# 📝 變更日誌

所有重要的專案變更都會記錄在此檔案中。

格式基於 [Keep a Changelog](https://keepachangelog.com/zh-TW/1.0.0/)，
此專案遵循 [語義化版本](https://semver.org/lang/zh-TW/)。

## [未發布]

### 新增
- 文檔整合與簡化（Issue #34）
  - 建立統一的文檔結構
  - 整合分散的文檔目錄
  - 新增 `docs/README.md` 作為文檔總索引
  - 新增 `docs/getting-started.md`、`docs/testing.md`、`docs/architecture.md` 等整合文檔

## [3.1.0] - 2026-02-12

### 新增
- Phase 4 模組化架構完成
  - 建立 `src/init/` 初始化模組
  - 建立 `src/compat/` 相容層
  - 建立自動初始化入口 `src/index.js`
  - 實現自動頁面類型偵測

### 改進
- 零破壞性變更原則
  - `system.js` 保持完全未修改
  - 所有新功能都是新增模組
  - 保持向後相容

### 文檔
- 新增 Phase 4 完成摘要
- 更新模組化架構文檔

## [3.0.0] - 2026-02-10

### 新增
- 模組化重構（Phase 1-3）
  - 建立 `src/utils/` 工具模組
  - 建立 `src/constants/` 常數模組
  - 建立 `src/services/` 服務層
  - 建立 `src/config/` 配置模組

### 改進
- 程式碼組織優化
  - 零依賴模組實現
  - 支援瀏覽器和 Node.js 環境
  - ES 模組化設計

### 測試
- 新增模組測試頁面
- 新增單元測試

## [2.1.1] - 2026-01-24

### 修復
- 修復用戶身份識別問題
- 修復側邊欄統計顯示
- 修復 Creator 登入流程

### 改進
- 動態統計儀表板
- 賬戶刪除功能
- Creator 角色權限控制

### 測試
- 系統功能測試通過率 91% → 97%+
- 資料庫測試通過率 50% → 88%+
- Creator 測試覆蓋率 0% → 85%+

## [2.1.0] - 2026-01-21

### 新增
- IndexedDB 支持
  - 雙重備份機制（localStorage + IndexedDB）
  - 用戶專屬資料庫 `rs-system-{userId}`
  - 自動初始化和同步

### 改進
- Creator 帳號自動建立
  - 預設用戶名: `creator`
  - 預設密碼: `1234`
- 資料持久化增強
- 容錯能力提升

### 文檔
- 新增快速測試指南
- 新增驗收測試清單
- 更新開發文檔

## [2.0.0] - 2026-01-20

### 新增
- 用戶管理系統
  - 用戶註冊和登入
  - 角色權限管理（Creator / User）
  - 會話管理

### 改進
- 重新設計 UI
- 響應式設計優化
- 側邊欄導航

### 變更
- 從單用戶改為多用戶系統
- 資料儲存結構調整

## [1.0.0] - 2025-12-15

### 新增
- 基礎功能實現
  - 課堂記錄新增/編輯/刪除
  - 班別管理
  - CSV 匯出
  - localStorage 儲存

### 功能
- ✅ 快速輸入
- ✅ 本地儲存
- ✅ CSV 匯出
- ✅ 班別管理
- ✅ 歷史記錄
- ✅ 響應式設計

## 版本說明

### [主版本]
破壞性變更，不向後相容

### [次版本]
新增功能，向後相容

### [修訂版本]
Bug 修復，向後相容

## 變更類型

- **新增**: 新功能
- **改進**: 現有功能改進
- **修復**: Bug 修復
- **變更**: 破壞性變更
- **移除**: 移除的功能
- **安全**: 安全性更新
- **文檔**: 文檔更新
- **測試**: 測試相關

## 相關連結

- [GitHub Releases](https://github.com/nhy497/rs-system/releases)
- [Issues](https://github.com/nhy497/rs-system/issues)
- [Pull Requests](https://github.com/nhy497/rs-system/pulls)

## 升級指南

### 從 2.x 升級到 3.x

1. 備份資料（匯出 CSV）
2. 更新程式碼：`git pull origin main`
3. 重新安裝依賴：`npm install`
4. 重新建置：`npm run build`
5. 測試功能是否正常

### 從 1.x 升級到 2.x

1. **重要**：1.x 是單用戶系統，2.x 是多用戶系統
2. 備份所有記錄（匯出 CSV）
3. 更新後需要重新建立帳號
4. 匯入之前匯出的記錄

## 路線圖

### 未來計劃

#### v3.2（計劃中）
- [ ] 資料雲端同步（Firebase）
- [ ] 密碼加密儲存
- [ ] 密碼重置功能
- [ ] 多語言支援

#### v4.0（研究中）
- [ ] Progressive Web App (PWA)
- [ ] 離線同步
- [ ] 資料匯入功能
- [ ] 進階統計圖表
- [ ] 主題系統

## 貢獻

歡迎貢獻！請參考 [開發指南](./development.md)

---

**最後更新**: 2026-02-18  
**維護者**: Development Team
